
# ✅ PAT 乙级题目讲解：1001《害死人不偿命的(3n+1)猜想》

---

## 📌 题目简介

输入一个正整数 n。若 n 为奇数，则将其变为 3n+1；若为偶数，则除以 2。不断重复此过程，直到 n 变为 1。  
请输出这个过程中一共进行了多少次这样的操作。

---

## 🧭 解题四步流程

### 1. 仔细读题 → **建模提取**
- 操作规则：奇数 → 3n+1，偶数 → n / 2（也可以合并为一步操作）
- 终止条件：当 n == 1 时结束
- 所需变量：
  - `n`: 当前状态值
  - `cnt`: 操作步数统计

### 2. 分析样例 → **模拟推导**
以样例输入 `6` 为例，过程如下：
```
6 → 3 → 10 → 5 → 16 → 8 → 4 → 2 → 1（共 8 步）
```
每次操作依据当前数的奇偶性进行状态转移，最终抵达终点状态 1。

### 3. 编写代码 → **结构表达**

```cpp
#include <bits/stdc++.h>
using namespace std;

int main(){
    int n;
    cin >> n;
    int cnt = 0;
    while(n != 1){
        if(n % 2 == 0){
            n /= 2;
        }
        else{
            n = (3 * n + 1) / 2;
        }
        cnt++;
    }
    cout << cnt;
    return 0;
}
```

**结构要点说明：**
- 循环终止条件是 n==1；
- 每次操作后 `cnt++` 是核心步骤；
- 奇数情况中，直接将 `(3n+1)/2` 合并，效率更高。

### 4. 测试检查 → **边界验证**
- 输入是否保证为正整数？
- 程序是否能在 n=1 时正确终止？
- 输出是否为单个整数？格式是否规范？

---

## ❗ 易错点整理

1. 忘记每次操作后 `cnt++`；
2. 把奇偶判断逻辑写错，例如 `%2==0` 理解错误；
3. 更新 `n` 的语句遗漏，导致死循环；
4. 使用 `while(n)` 会包含 n==1 的状态，逻辑不严谨。

---

## 🔍 总结：本题核心训练点

> **状态转移模型的入门题。**

- 掌握最基础的“当前状态 → 下一个状态”模型；
- 理解循环控制结构与终止判断；
- 学会使用变量精简和运算优化技巧（如直接合并 `/2`）。
