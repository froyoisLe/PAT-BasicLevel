# ✅ PAT 乙级题目讲解：1002《写出这个数》

## 🧩 题目简介

给定一个不超过 $10^{100}$ 的自然数，求其所有位数之和，并将该和的每一位用拼音数字输出，要求拼音之间用空格隔开，末尾无空格。

---


## 🧪 样例分析

输入：

```
1234567890987654321123456789
```

分析过程：

- 首先计算每一位的数字之和，即 $1+2+3+...+9+0+9+8+...+1+2+3+...+9 = 135$
- 然后将 135 拆成 1、3、5 三位数字
- 最后输出：yi san wu

因此输出为：

```
yi san wu
```

---

## 🔍 解题思路

### 📎 变量说明

| 变量名 | 含义                           |
| ------ | ------------------------------ |
| s      | 存储输入的大整数字符串         |
| sum    | 所有数字的累加和               |
| a[]    | 拆分后的数字数组（低位到高位） |
| b[]    | 数字转拼音的对应表             |

本题的解决流程可以分为以下几个步骤：

### ✅ Step 1：字符串读取 + 位数求和

由于数值范围极大，不能使用整数读入，而是用字符串表示：

```cpp
string s;
cin >> s;
int sum = 0;
for(int i = 0; i < s.size(); i++){
    sum += s[i] - '0';
}
```

### ✅ Step 2：数位拆分

将整数和进行拆分，提取每一位数字（从低位到高位）：

```cpp
int a[10], k = 0;
while(sum){
    a[++k] = sum % 10;
    sum /= 10;
}
```

### ✅ Step 3：数字转拼音输出

准备好拼音映射数组，从高位到低位输出，注意控制空格格式：

```cpp
string b[10] = {"ling", "yi", "er", "san", "si",
                "wu", "liu", "qi", "ba", "jiu"};
for(int i = k; i >= 1; i--){
    cout << b[a[i]];
    if(i != 1) cout << " ";
}
```

---

### ✅ 完整代码

```cpp
#include <bits/stdc++.h> 
using namespace std;

string s;
int main(){
    cin >> s;
    int sum = 0;
    for(int i = 0; i < s.size(); i++){
        sum += s[i] - '0';
    }
    int a[10], k = 0;
    while(sum){
        a[++k] = sum % 10; // a[1] ~ a[k]
        sum /= 10;
    }
    string b[10] = {"ling", "yi", "er", "san", "si",
                    "wu", "liu", "qi", "ba", "jiu"};
    for(int i = k; i >= 1; i--){
        cout << b[a[i]];
        if(i != 1) cout << " ";
    }
    return 0;
}
```

---

## 🚧 常见错误提醒

| 错误类型     | 具体表现                          |
| ------------ | --------------------------------- |
| 输入处理错误 | 用 int 类型接收导致溢出或精度错误 |
| 数位拆分顺序 | 拆分后未逆序输出导致拼音顺序错误  |
| 输出空格错误 | 忽略最后一个拼音后不能有空格      |

---

## ✅ 总结归纳

- 本题关键是处理超大整数输入，适用字符串模拟
- 熟练掌握数位拆分技巧（整除与取余）
- 注意格式化输出要求，特别是空格控制

## 🧠 思维拓展

- 类似大整数加法、模拟类题目中，字符串处理比直接数值处理更稳妥。
- 可考虑使用栈或 reverse() 工具辅助逆序处理。
