
# ✅ PAT 乙级题目讲解：1002《写出这个数》

---

## 📌 题目简介

给定一个不超过 100 位的正整数，求其各位数字之和，并将每一位用拼音输出。  
拼音之间用空格分隔，最后一位后不带空格。

---

## 🧭 解题四步流程

### 1. 仔细读题 → **建模提取**
- 输入数据：一个字符串表示的大整数
- 操作目标：求各位数字和，转为拼音依次输出
- 所需变量：
  - `s`: 存储输入的大整数字符串
  - `sum`: 各位数字之和
  - `a[]`: 反向保存和的每一位数字
  - `k`: 位数计数器
  - `b[]`: 映射数字到拼音

### 2. 分析样例 → **模拟推导**
输入样例：
```
1234567890987654321123456789
```
→ 每一位相加得到一个整数和 sum  
→ 将 sum 拆分为各位数字，映射为拼音依次输出

例如 sum = 135  
→ 数组保存为 [5, 3, 1]（逆序）  
→ 输出为："yi san wu"

### 3. 编写代码 → **结构表达**

```cpp
#include <bits/stdc++.h> 
using namespace std;

string s;
int main(){
    cin >> s;
    int sum = 0;
    for(int i = 0; i < s.size(); i++){
        sum += s[i] - '0';
    }
    int a[10], k = 0;
    while(sum){
        a[++k] = sum % 10; // a[1] ~ a[k]
        sum /= 10;
    }
    string b[10] = {"ling", "yi", "er", "san", "si",
                    "wu", "liu", "qi", "ba", "jiu"};
    for(int i = k; i >= 1; i--){
        cout << b[a[i]];
        if(i != 1) cout << " ";
    }
    return 0;
}
```

**结构要点说明：**
- 使用字符串输入方便逐位处理；
- 数位求和后拆解为逆序存储的各个位；
- 输出时从高位到低位恢复顺序；
- 利用数组 `b[]` 建立数字 → 拼音映射表。

### 4. 测试检查 → **边界验证**
- 输入是否有前导 0？
- 和为 0 时是否正确输出 "ling"？
- 是否避免末尾多输出空格？

---

## ❗ 易错点整理

1. 忘记将 `sum` 拆位后按高位输出；
2. 拼音之间的空格处理条件判断错误；
3. 输入用 `int` 接收可能溢出，必须用字符串处理；
4. 数组 a 从 1 开始，注意索引越界风险。

---

## 🔍 总结：本题核心训练点

> **输入处理 + 数位拆解 + 映射输出的综合练习。**

- 学会使用字符串处理大整数；
- 掌握数字 → 拼音的映射构造方法；
- 提高输出格式控制与边界判断能力。
